{% extends 'samples_manager/base.html' %}
{% block content %}
 <!-- THE MODAL WE WILL BE USING -->
<div class="modal" id="modal-dosimeter">
    <div class="modal-dialog">
      <div class="modal-content">
      </div>
    </div>
</div>
<div class='panel panel-default' id="main_panel"> 
    <div class="row" style="margin-bottom: 20px ">
            <div class="col-sm-12">
                <h3><span style="font-size: 150%; text-decoration: underline"> Dosimeters </span></h3>
            </div>
    </div>   
    <div class="row">
        <div class="col-sm-4" style="text-align: left">
             {%if request.path|slice:":23" == '/samples_manager/search' %}
                <a  href="{%  url 'samples_manager:dosimeters_list' %}" type="button" class="btn back" title='Back'>
            {%else %}
                <a  href="{% url 'samples_manager:index' %}" type="button" class="btn back" title='Back'>
            {%endif%}
                <span class="glyphicon glyphicon-chevron-left"></span>Back
            </a>
        </div>
        <form style="text-align: center"  class="col-sm-4" name="search_form" method="GET" action="{%url 'samples_manager:search_dosimeters'%}"> 
                <input title="Search" id="search_box" type="text" name="search_box"  placeholder="Search..." >
                <button  class="btn-sm btn-warning" id="search_submit" title="Search" type="submit"><span class="glyphicon glyphicon-search line_height"></span></button>
        </form>
    
        <div class="col-sm-2" style="text-align: right">
            <button  type="button"
                    id = "generate_dos"
                    class="btn btn-primary js-generate-ids"
                    data-url="{% url 'samples_manager:generate_dos_ids'%}">
                    <span class="glyphicon glyphicon-tag"></span> New Dosimeter IDs
            </button>     
        </div>  
        <div class="col-sm-2" style="text-align: right">
            <button type="button"
                    id = "new_dos"
                    class="btn btn-primary js-create-dosimeter"
                    data-url="{% url 'samples_manager:dosimeter_new'%}">
                    <span class="glyphicon glyphicon-plus"></span>New Dosimeter
            </button>   
             <button  type="button"
                    id = "print_dos"
                    class="btn js-print-labels"
                    data-url="{% url 'samples_manager:dosimeter_new'%}"
                    style="color:white;display:none">
                    <span class="glyphicon glyphicon-barcode"></span> Print labels
            </button>  
        </div>  
        
    </div>
    <div class="panel-body">
        <div class="loader" id="load" style="display:none"></div>    
            <table class="col-sm-12 table-responsive sortable" id="dosimeter-table">
                <thead>
                    <tr>
                    <th class="sorttable_nosort"><input name="select_all" value="1" id="dosimeters-select-all" type="checkbox" /></th>
                    <th>Last Update</th>
                    <th>Dosimeter ID</th>
                    <th>Size (mm<sup>2</sup>)</th>
                    <th>Weight (g)</th>
                    <th>Status</th>
                    <th class="sorttable_nosort">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% include 'samples_manager/partial_dosimeters_list.html' %}
                </tbody>
            </table>
    </div>
{% endblock %}